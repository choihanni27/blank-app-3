# streamlit ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
import streamlit as st

# --- í˜ì´ì§€ ì„¤ì • ---
st.set_page_config(
    page_title="Tippi - ë‹¹ì‹ ì˜ íŒì„ ê³µìœ í•˜ì„¸ìš”",
    page_icon="ğŸ’¡",
)

# --- ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™” ---
# 'tips' ë¦¬ìŠ¤íŠ¸ê°€ ì„¸ì…˜ ìƒíƒœì— ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.
# ì„¸ì…˜ ìƒíƒœëŠ” ì‚¬ìš©ìê°€ ì•±ê³¼ ìƒí˜¸ì‘ìš©í•˜ëŠ” ë™ì•ˆ ë°ì´í„°ë¥¼ ê¸°ì–µí•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.
if 'tips' not in st.session_state:
    st.session_state.tips = []

# --- ì•± ì œëª© ë° ì„¤ëª… ---
st.title("ğŸ’¡ Tippi")
st.markdown("ë‹¤ì–‘í•œ ì£¼ì œì— ëŒ€í•œ ë‹¹ì‹ ë§Œì˜ íŒì„ ê³µìœ í•˜ê³  'ì˜¤ëŠ˜ì˜ íŒ ë¦¬ìŠ¤íŠ¸'ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”!")

# --- íŒ ì…ë ¥ í¼ ---
# 'with st.form(...)'ì„ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ì…ë ¥ í•„ë“œë¥¼ ê·¸ë£¹í™”í•˜ê³ 
# 'ì œì¶œ' ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œë§Œ ì•±ì´ í•œ ë²ˆì— ì²˜ë¦¬í•˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
with st.form("tip_form"):
    st.subheader("âœï¸ ìƒˆë¡œìš´ íŒ ì¶”ê°€í•˜ê¸°")

    # í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ ìƒì„±
    tip_study = st.text_input("í•™ìŠµ íŒ", placeholder="ì˜ˆ: ì•„ì¹¨ì— 30ë¶„ ì¼ì° ì¼ì–´ë‚˜ê¸°")
    tip_health = st.text_input("ê±´ê°• íŒ", placeholder="ì˜ˆ: ë§¤ì¼ ë¬¼ 8ì” ë§ˆì‹œê¸°")
    tip_life = st.text_input("ìƒí™œ íŒ", placeholder="ì˜ˆ: ì ë“¤ê¸° ì „ ë‚´ì¼ ì…ì„ ì˜· ì¤€ë¹„í•˜ê¸°")

    # í¼ ì œì¶œ ë²„íŠ¼
    submitted = st.form_submit_button("ì œì¶œ")

    # ì œì¶œ ë²„íŠ¼ì´ í´ë¦­ë˜ì—ˆì„ ë•Œ ì‹¤í–‰ë  ë¡œì§
    if submitted:
        # ì…ë ¥ëœ íŒì´ ë¹„ì–´ìˆì§€ ì•Šì€ ê²½ìš°ì—ë§Œ ì„¸ì…˜ ìƒíƒœì˜ 'tips' ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.
        if tip_study:
            st.session_state.tips.append(f"[í•™ìŠµ] {tip_study}")
        if tip_health:
            st.session_state.tips.append(f"[ê±´ê°•] {tip_health}")
        if tip_life:
            st.session_state.tips.append(f"[ìƒí™œ] {tip_life}")
        
        # íŒì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŒì„ ì‚¬ìš©ìì—ê²Œ ì•Œë¦½ë‹ˆë‹¤.
        st.success("íŒì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!")

# --- ê²°ê³¼ ì¶œë ¥ ---
st.subheader("ğŸ“‹ ì˜¤ëŠ˜ì˜ íŒ ë¦¬ìŠ¤íŠ¸")

# ì„¸ì…˜ ìƒíƒœì— ì €ì¥ëœ íŒì´ í•˜ë‚˜ ì´ìƒ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
if st.session_state.tips:
    # ë²ˆí˜¸ì™€ í•¨ê»˜ ì €ì¥ëœ íŒì„ í•˜ë‚˜ì”© í™”ë©´ì— ì¶œë ¥í•©ë‹ˆë‹¤.
    for i, tip in enumerate(st.session_state.tips):
        st.info(f"{i + 1}. {tip}")
else:
    # ì €ì¥ëœ íŒì´ ì—†ìœ¼ë©´ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.
    st.warning("ì•„ì§ ì¶”ê°€ëœ íŒì´ ì—†ìŠµë‹ˆë‹¤. ìœ„ì˜ ì–‘ì‹ì„ í†µí•´ ìƒˆë¡œìš´ íŒì„ ì¶”ê°€í•´ ì£¼ì„¸ìš”.")